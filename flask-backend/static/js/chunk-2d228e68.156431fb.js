(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d228e68"],{dac8:function(o,a,i){"use strict";i.r(a);var t=function(){var o=this,a=o.$createElement,i=o._self._c||a;return i("v-container",{staticClass:"mt-6"},[i("v-row",[i("v-col",[i("v-card",{staticClass:"mx-auto"},[i("v-card-text",{staticClass:"py-0"},[i("v-row",[i("v-col",{staticStyle:{"padding-top":"20px"}},[i("span",{staticClass:"page-title primary--text"},[o._v("INSUMOS")])]),i("v-col",{staticClass:"text-right"},[i("v-btn",{attrs:{dark:"",color:"primary"},on:{click:function(a){return o.abrirDialogoInsumo({},!0)}}},[o._v("INSERIR ")])],1)],1)],1)],1)],1)],1),i("v-row",[i("v-col",[i("v-data-table",{attrs:{"disable-pagination":"",locale:"pt","hide-default-footer":"",headers:o.headers,items:o.store.insumos,"item-key":"codigo_insumo"},scopedSlots:o._u([{key:"item.actions",fn:function(a){var t=a.item;return[i("v-icon",{attrs:{color:"primary"},on:{click:function(a){return o.abrirDialogoInsumo(t,!1)}}},[o._v(" mdi-pencil ")]),i("v-icon",{attrs:{color:"primary"},on:{click:function(a){return o.confimarDelecaoInsumo(t)}}},[o._v(" mdi-delete ")])]}}],null,!0)})],1)],1),i("v-row",{attrs:{justify:"center"}},[i("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:o.insumoDialogo,callback:function(a){o.insumoDialogo=a},expression:"insumoDialogo"}},[i("v-card",[i("v-card-text",[i("v-container",[i("v-row",{staticClass:"mt-4"},[i("v-col",{attrs:{cols:"3"}},[i("v-text-field",{attrs:{label:"Código",placeholder:" ",outlined:"",dense:"","hide-details":"auto"},model:{value:o.insumo.codigo_insumo,callback:function(a){o.$set(o.insumo,"codigo_insumo",a)},expression:"insumo.codigo_insumo"}})],1)],1),i("v-row",{staticClass:"mt-4"},[i("v-col",[i("v-text-field",{attrs:{label:"Descrição",placeholder:" ",outlined:"",dense:"","hide-details":"auto"},model:{value:o.insumo.descricao,callback:function(a){o.$set(o.insumo,"descricao",a)},expression:"insumo.descricao"}})],1)],1),i("v-row",{staticClass:"mt-4"},[i("v-col",{attrs:{cols:"6"}},[i("v-text-field",{attrs:{label:"Unidades por Pacote",placeholder:" ",outlined:"",dense:"","hide-details":"auto"},model:{value:o.insumo.unidades_pacote,callback:function(a){o.$set(o.insumo,"unidades_pacote",a)},expression:"insumo.unidades_pacote"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary dark",text:""},on:{click:o.cancelarDialogoInsumo}},[o._v("Cancelar")]),i("v-btn",{staticClass:"mr-5",attrs:{disabled:o.desabilitarBotaoSalvar,color:"blue darken-1",text:""},on:{click:o.salvar}},[o._v("Salvar")])],1)],1)],1)],1),i("v-snackbar",{attrs:{top:""},scopedSlots:o._u([{key:"action",fn:function(a){var t=a.attrs;return[i("v-btn",o._b({attrs:{color:"primary",text:""},on:{click:function(a){o.exibirSnackbar=!1}}},"v-btn",t,!1),[o._v(" Fechar ")])]}}]),model:{value:o.exibirSnackbar,callback:function(a){o.exibirSnackbar=a},expression:"exibirSnackbar"}},[o._v(" "+o._s(o.snackbarMensagem)+" ")]),i("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:o.confirmaExclusaoDialogo,callback:function(a){o.confirmaExclusaoDialogo=a},expression:"confirmaExclusaoDialogo"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[o._v("Excluir Insumo")]),i("v-card-text",[o._v("Você tem certeza que deseja excluir o insumo "+o._s(this.insumo.descricao)+" (Código: "+o._s(this.insumo.codigo_insumo)+")? Esta ação não pode ser desfeita.")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"yellow darken-1",text:""},on:{click:function(a){o.confirmaExclusaoDialogo=!1}}},[o._v("Cancelar")]),i("v-btn",{staticClass:"mr-5",attrs:{color:"red darken-1",text:""},on:{click:o.deletarInsumo}},[o._v("Excluir")])],1)],1)],1)],1)},s=[],e=(i("4de4"),i("7db0"),i("a9e3"),i("d3b7"),i("96cf"),i("1da1")),n=i("5530"),c=i("07a4"),r={name:"Insumo",data:function(){return{store:c["a"],insumos:[],insumo:{},insumoDialogo:!1,desabilitarBotaoSalvar:!1,ehNovoInsumo:!1,exibirSnackbar:!1,snackbarMensagem:"",confirmaExclusaoDialogo:!1,headers:[{text:"Codigo",align:"center",value:"codigo_insumo",sortable:!0},{text:"Descrição",align:"start",sortable:!0,value:"descricao"},{text:"Unidades por Pacote",align:"start",sortable:!1,value:"unidades_pacote"},{text:"Ações",align:"center",value:"actions",sortable:!1}]}},methods:{abrirDialogoInsumo:function(o,a){this.ehNovoInsumo=a,!1===a&&(this.insumo=Object(n["a"])({},o)),this.insumoDialogo=!0},cancelarDialogoInsumo:function(){this.insumo={},this.insumoDialogo=!1},salvar:function(){var o=this;if(this.ehNovoInsumo){var a=c["a"].insumos.find((function(a){return a.codigo_insumo===o.insumo.codigo_insumo}));void 0===a?(c["a"].insumos.push(this.insumo),c["a"].insumos.sort((function(o,a){return Number(o.codigo_insumo)>Number(a.codigo_insumo)?1:Number(a.codigo_insumo)>Number(o.codigo_insumo)?-1:0})),this.persistirAlteracoes()):(this.snackbarMensagem="Já existe um insumo com o código ".concat(this.insumo.codigo_insumo,". Não é possível adicionar dois insumos com o mesmo código."),this.exibirSnackbar=!0)}else{var i=c["a"].insumos.find((function(a){return a.codigo_insumo===o.insumo.codigo_insumo}));i.descricao=this.insumo.descricao,i.unidades_pacote=this.insumo.unidades_pacote,this.persistirAlteracoes()}},persistirAlteracoes:function(){var o=this;return Object(e["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat("","/api/insumos"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c["a"].insumos)});case 2:o.insumo={},o.insumoDialogo=!1;case 4:case"end":return a.stop()}}),a)})))()},confimarDelecaoInsumo:function(o){this.insumo=o,this.confirmaExclusaoDialogo=!0},deletarInsumo:function(){var o=this;c["a"].insumos=c["a"].insumos.filter((function(a){return a.codigo_insumo!==o.insumo.codigo_insumo})),this.insumo={},this.confirmaExclusaoDialogo=!1,this.persistirAlteracoes()}}},l=r,u=i("2877"),d=i("6544"),m=i.n(d),v=i("8336"),p=i("b0af"),b=i("99d9"),f=i("62ad"),g=i("a523"),h=i("8fea"),x=i("169a"),_=i("132d"),k=i("0fd9"),D=i("2db4"),C=i("2fa4"),w=i("8654"),S=Object(u["a"])(l,t,s,!1,null,null,null);a["default"]=S.exports;m()(S,{VBtn:v["a"],VCard:p["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:f["a"],VContainer:g["a"],VDataTable:h["a"],VDialog:x["a"],VIcon:_["a"],VRow:k["a"],VSnackbar:D["a"],VSpacer:C["a"],VTextField:w["a"]})}}]);
//# sourceMappingURL=chunk-2d228e68.156431fb.js.map